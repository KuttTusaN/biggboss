<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Data</title>
    <!-- Add Firebase and Chart.js CDN links here -->
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&display=swap");

      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-image: url(https://i.pinimg.com/originals/42/64/a4/4264a4ba598c17ef23685260a13bd849.gif);
        background-repeat: no-repeat;
        background-size: cover;
        height: 1080px;
        width: 1920px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #userDataContainer {
        text-align: center;
      }

      .user-container {
        display: inline-block;
        border-radius: 8px;
        overflow: hidden;
        transition: opacity 0.5s ease-in-out;
        opacity: 0;
        animation: fadeUpAnimation 1s ease-in-out;
        margin-bottom: 50px;
      }

      .user-container.fade-up {
        opacity: 1;
      }

      .user-pic {
        width: 500px;
        height: 500px;
        border-radius: 50%;
        overflow: hidden;
        margin: 0 auto 20px;
      }

      .user-pic img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .vote-percentage {
        font-family: "Bebas Neue", sans-serif;
        font-weight: 200;
        font-style: normal;
        font-size: 40px;
        padding-top: 10px;
        margin-top: 20px;
        color: aliceblue;
      }

      .user-name {
        font-family: "DM Serif Display", serif;
        font-weight: 400;
        font-style: italic;
        margin-top: 50px;
        font-size: 75px;
        color: aliceblue;
      }

      @keyframes fadeUpAnimation {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div id="userDataContainer"></div>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyDXSLlef9SYpaP6ZGZvieMEsdn5PvQxhJw",
        authDomain: "direct-tv-b8cbc.firebaseapp.com",
        databaseURL: "https://direct-tv-b8cbc-default-rtdb.firebaseio.com",
        projectId: "direct-tv-b8cbc",
        storageBucket: "direct-tv-b8cbc.appspot.com",
        messagingSenderId: "999287626395",
        appId: "1:999287626395:web:7ded376396f7e2d2aa443e",
      };
      firebase.initializeApp(firebaseConfig);
      const database = firebase.database();

      // Function to display user data
      function displayUserData() {
        const userDataContainer = document.getElementById("userDataContainer");
        const usersRef = database.ref("users");
        let index = 0;

        usersRef.on("value", (snapshot) => {
          const userData = snapshot.val();
          const userIds = Object.keys(userData);

          setInterval(() => {
            const user = userData[userIds[index]];
            userDataContainer.innerHTML = ""; // Clear previous data

            const userContainer = document.createElement("div");
            userContainer.classList.add("user-container", "fade-up");

            // User Picture
            const userPicContainer = document.createElement("div");
            userPicContainer.classList.add("user-pic");
            const userPic = document.createElement("img");
            userPic.src = user.userPic;
            userPic.alt = "User Image";
            userPicContainer.appendChild(userPic);
            userContainer.appendChild(userPicContainer);

            // User Name
            const userName = document.createElement("div");
            userName.classList.add("user-name");
            userName.textContent = user.userName;
            userContainer.appendChild(userName);

            // Vote Percentage
            const votePercentage = document.createElement("div");
            votePercentage.classList.add("vote-percentage");
            votePercentage.textContent = `Vote Percentage: ${user.userVote}%`;
            userContainer.appendChild(votePercentage);

            userDataContainer.appendChild(userContainer);

            index = (index + 1) % userIds.length;
          }, 5000);
        });
      }

      // Call the function to display user data when the page loads
      displayUserData();
    </script>
  </body>
</html>
